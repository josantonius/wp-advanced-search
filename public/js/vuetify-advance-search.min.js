!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VuetifyAdvanceSearch=t():e.VuetifyAdvanceSearch=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(i){if(s[i])return s[i].exports;var n=s[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var s={};return t.m=e,t.c=s,t.d=function(e,s,i){t.o(e,s)||Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=3)}([function(e,t){e.exports=function(e,t,s,i,n,a){var o,r=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(o=e,r=e.default);var c="function"==typeof r?r.options:r;t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),s&&(c.functional=!0),n&&(c._scopeId=n);var u;if(a?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=u):i&&(u=i),u){var h=c.functional,d=h?c.render:c.beforeCreate;h?(c._injectStyles=u,c.render=function(e,t){return u.call(t),d(e,t)}):c.beforeCreate=d?[].concat(d,u):[u]}return{esModule:o,exports:r,options:c}}},function(e,t,s){"use strict";var i=s(6);t.a={name:"VuetifyAdvanceSearch",components:{VuetifyResultsList:i.a},model:{prop:"value",event:"change"},props:{size:{type:Number,required:!1,default:10},isPaginated:{type:Boolean,required:!1,default:!1},pageNumber:{type:Number,required:!1,default:0},allResultsUrl:{type:String,required:!1,default:""},customNeedle:{type:String,default:"",required:!1},optionsMenu:{type:Object,default:function(){return{selected:[],type:"options",title:"Options",icon:"settings",active:!0,options:[{title:"Match full search term",ref:"search_by_sentence"},{title:"Match 2 or more words",ref:"search_by_words"},{title:"Search in title",ref:"search_in_title"},{title:"Search in headings",ref:"search_in_headings"},{title:"Search in paragraphs",ref:"search_in_content"},{title:"Search in all pages",ref:"search_in_pages"},{title:"Search in all posts",ref:"search_in_posts"},{title:"Search in all post categories",ref:"search_in_all_post_categories"}]}},required:!1},advancedOptionsMenu:{type:Object,default:function(){return{selected:[],type:"options",title:"Advance options",icon:"highlight",active:!1,options:[{title:"Search by words",ref:"search_by_words"},{title:"Sensitive case",ref:"sensitiveCase"},{title:"Ascending order",ref:"headingsInAscendingOrder"},{title:"Mark headings",ref:"markMatchOnHeading"},{title:"Mark paragraph",ref:"markMatchOnParagraph"},{title:"Merge matches",ref:"mergeMatches"},{title:"Sort by matches",ref:"sortByMatchesNumber"}]}},required:!1},options:{type:Object|String,default:function(){return{search_by_words:!0,search_by_sentence:!0,search_in_title:!0,search_in_headings:!0,search_in_content:!0,search_in_pages:!0,search_in_posts:!0,search_in_all_post_categories:!0}},required:!1},categoriesMenuTitle:{type:String,default:"Filter by categories",required:!1},categories:{type:Array|String,default:function(){return[]},required:!1},matches:{type:Array,default:function(){return[]},required:!1}},data:function(){return{noResults:!1,expansion:null,isactive:null,loader:!1,loaderResults:!1,timerChangeNeedle:null,timerToogleMenu:null,myNeedle:"",needle:"",hideCategories:!0,minChars:1,hidePosts:!1,customCategories:[],customOptions:[],selectedOptions:[],selectedCategories:[],menu:[],visible:!1,showResults:!1,showOptions:!1}},mounted:function(){this.customCategories=this.categories,this.customOptions=this.options,"string"==typeof this.customCategories&&(this.customCategories=JSON.parse(this.customCategories)),"string"==typeof this.customOptions&&(this.customOptions=JSON.parse(this.customOptions)),this.customNeedle.length>0&&(this.needle=this.customNeedle),this.setMenu(),this.visible=!0},methods:{showIfHasResults:function(e){!e&&this.showOptions||(this.showResults=this.matches.length>0)},setMenu:function(){this.menu=[],this.setOptions(),this.setCategories()},setOptions:function(){for(var e in this.customOptions)this.customOptions[e]&&this.selectedOptions.push(e);this.menu.push(this.optionsMenu)},setCategories:function(){var e=this;this.customCategories.forEach(function(t){e.selectedCategories.push(t.value)});var t={selected:[],type:"categories",title:this.categoriesMenuTitle,icon:"category",active:!0,options:[]};this.selectedCategories.forEach(function(e){t.options.push({title:e,ref:e})}),this.menu.push(t)},setAdvanceOptions:function(){this.menu.push(this.advancedOptionsMenu)},toggleOptions:function(e,t,s){var i=this;this.loader=!0;var n=this.getCurrentSelectedItems(t),a=n.indexOf(e);a>-1?(n.splice(a,1),"search_by_words"===e?-1===n.indexOf("search_by_sentence")&&n.push("search_by_sentence"):"search_by_sentence"===e?-1===n.indexOf("search_by_words")&&n.push("search_by_words"):"search_in_headings"===e?-1===n.indexOf("search_in_content")&&n.push("search_in_content"):"search_in_content"===e?-1===n.indexOf("search_in_headings")&&n.push("search_in_headings"):"search_in_posts"===e?(-1===n.indexOf("search_in_pages")&&n.push("search_in_pages"),this.hideCategories=!0,this.hidePosts=!0):"search_in_pages"===e?-1===n.indexOf("search_in_posts")&&(n.push("search_in_posts"),-1!==n.indexOf("search_in_all_post_categories")?this.hideCategories=!0:this.hideCategories=!1,this.hidePosts=!1):"categories"===t.type?0===n.length&&this.customCategories[0].value&&n.push(this.customCategories[0].value):"search_in_all_post_categories"===e&&(this.hideCategories=!1)):(e&&("search_in_posts"===e?(this.hidePosts=!1,-1!==n.indexOf("search_in_all_post_categories")?this.hideCategories=!0:this.hideCategories=!1):"search_in_all_post_categories"===e&&(this.hideCategories=!0)),n.push(e)),this.showIfHasResults();var o=[];if("categories"===t.type)o=this.getSelectedCategories();else for(var r in this.customOptions){var l=n.indexOf(r);o[r]=l>-1}this.needle.length>this.minChars&&(clearTimeout(this.timerToogleMenu),this.timerToogleMenu=setTimeout(function(){s||i.$emit("on-change-"+t.type,o)},1e3))},getSelectedCategories:function(){var e=this,t=[];return this.selectedCategories.forEach(function(s){var i=e.customCategories.findIndex(function(e){return e.value===s});i>-1&&t.push(e.customCategories[i])}),t},hideResultsLoader:function(){this.$refs.vuetify_results_list.hideLoader()},setResultsUrl:function(){var e=-1===this.allResultsUrl.indexOf("?")?"?search="+this.needle:"&search="+this.needle;return this.allResultsUrl+e+"&search_by_words="+this.customOptions.search_by_words+"&search_by_sentence="+this.customOptions.search_by_sentence+"&search_in_headings="+this.customOptions.search_in_headings+"&search_in_content="+this.customOptions.search_in_content+"&search_in_posts="+this.customOptions.search_in_posts+"&search_in_pages="+this.customOptions.search_in_pages+"&search_in_title="+this.customOptions.search_in_title+"&search_in_all_post_categories="+this.customOptions.search_in_all_post_categories+"&categories="+this.getCategoriesIds()},showResultsLoader:function(){this.$refs.vuetify_results_list.showLoader()},getCategoriesIds:function(){var e="";return this.getSelectedCategories().forEach(function(t){e+=t.id+","}),e.replace(/,\s*$/,"")},getCurrentSelectedItems:function(e){return"options"===e.type?this.selectedOptions:this.selectedCategories},onExpandResult:function(e){this.$emit("on-expand-result",e,0)},hide:function(){this.showResults=!1,this.showOptions=!1},onClickResults:function(){this.showOptions=!1},nextPage:function(){this.$refs.vuetify_results_list.nextPage()},onNextPage:function(e){this.$emit("on-next-page",e)},onClickLastTab:function(e,t){this.$emit("on-click-last-tab",e,t)},isSentence:function(e){return 1===e.split(" ").filter(function(e){return""!==e}).length},onOptions:function(){var e=this;this.showResults=!1,!1===this.showOptions?setTimeout(function(){e.showOptions=!0},300):(this.showOptions=!1,setTimeout(function(){e.showResults=!0},300))}},watch:{matches:function(){this.showIfHasResults(),this.$emit("on-change-matches")},needle:function(){var e=this;this.showOptions=!1,this.loader=!0,clearTimeout(this.timerChangeNeedle),this.timerChangeNeedle=setTimeout(function(){e.needle.length>e.minChars?e.$emit("on-change-needle",e.needle):e.loader=!1},1e3)}}}},function(e,t,s){"use strict";t.a={name:"VuetifyResultsList",model:{prop:"value",event:"change"},props:{listData:{type:Array,default:function(){return[]},required:!1},size:{type:Number,required:!1,default:1},isPaginated:{type:Boolean,required:!1,default:!1},visible:{type:Boolean,required:!1,default:!1},noResults:{type:Boolean,required:!1,default:!1},pageNumber:{type:Number,required:!1,default:0},allResultsUrl:{type:String,required:!1,default:""},needle:{type:String,required:!1,default:""}},data:function(){return{disableNextButton:!1,page:0,loader:!1,readonly:!0,expansion:null,elements:[],height:"100px"}},mounted:function(){this.page=this.pageNumber},methods:{nextPage:function(){this.page++,this.disableNextButton=!1},hideLoader:function(){this.loader=!1},showLoader:function(){this.loader=!0},prevPage:function(){this.page--,this.disableNextButton=!1},onNextPage:function(e){this.listData.length<=e?(this.disableNextButton=!0,this.$emit("on-next-page",e)):this.nextPage()},onChangeTab:function(e,t){e.results.length-(t+1)==8&&this.$emit("on-click-last-tab",e,e.results.length-1)},next:function(e){var t=parseInt(e.tabs);e.tabs=t<2?t+1:0},expand:function(e,t){this.expansion===t?this.expansion=null:(this.showLoader(),this.$emit("on-expand-result",e),this.expansion=t)},normalizeResults:function(){this.expansion=null;var e=this.page*this.size,t=e+this.size;this.elements=this.listData.slice(e,t)},sayHello:function(){}},watch:{listData:function(e){this.normalizeResults()},page:function(e){this.normalizeResults()}},computed:{pageCount:function(){var e=this.listData.length,t=this.size;return Math.ceil(e/t)}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(4);s.d(t,"VuetifyAdvanceSearch",function(){return i.a}),t.default=i.a},function(e,t,s){"use strict";function i(e){s(5)}var n=s(1),a=s(9),o=s(0),r=i,l=o(n.a,a.a,!1,r,null,null);t.a=l.exports},function(e,t){},function(e,t,s){"use strict";function i(e){s(7)}var n=s(2),a=s(8),o=s(0),r=i,l=o(n.a,a.a,!1,r,null,null);t.a=l.exports},function(e,t){},function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{class:[e.isPaginated||null===e.expansion?"":"show-scroll"],style:{overflowY:e.noResults?"hidden":""},attrs:{"active-class":"card-results-list",color:(e.isPaginated,"white"),flat:e.isPaginated,"max-height":e.isPaginated?"":"400"},on:{click:function(t){e.$emit("on-click-results")}}},[e.isPaginated&&!1===e.noResults&&0===e.elements.length?s("div",{staticClass:"wrapper search-loader text-xs-center"},[s("div",{staticClass:"ball-1 ball"}),e._v(" "),s("div",{staticClass:"ball-2 ball"}),e._v(" "),s("div",{staticClass:"ball-3 ball"})]):e._e(),e._v(" "),s("div",{on:{click:function(t){e.$emit("on-click-results")}}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-expansion-panel",{attrs:{id:"results-content"},model:{value:e.expansion,callback:function(t){e.expansion=t},expression:"expansion"}},e._l(e.elements,function(t,i){return s("v-expansion-panel-content",{key:i,staticClass:"panel-content",attrs:{readonly:e.readonly,disabled:t.disabled}},[s("div",{attrs:{slot:"actions"},slot:"actions"},[s("v-icon",{attrs:{title:e.expansion===i?"Close results":"Expand results"},on:{click:function(s){e.expand(t,i)}}},[e._v("keyboard_arrow_down")])],1),e._v(" "),s("div",{staticClass:"result-search",attrs:{slot:"header",title:e.expansion===i?"Close results":"Expand results"},on:{click:function(s){e.expand(t,i)}},slot:"header"},[s("div",{staticClass:"result-title v-list__tile__title text-xs-center",domProps:{innerHTML:e._s(t.title)}},[e._v(e._s(t.title))]),e._v(" "),e._e()]),e._v(" "),s("v-card",{staticClass:"no-segmented-results"},[e.loader&&0===t.results.length?s("div",{staticClass:"wrapper search-loader text-xs-center"},[s("div",{staticClass:"ball-1 ball"}),e._v(" "),s("div",{staticClass:"ball-2 ball"}),e._v(" "),s("div",{staticClass:"ball-3 ball"})]):e._e(),e._v(" "),e.loader||0!==t.results.length?e._e():s("div",{staticClass:"search-loader text-xs-center"},[e._v("\n               No results found - "),s("a",{staticClass:"show-all-results",attrs:{target:"_blank",href:t.url,title:"Go to this article"},on:{click:function(t){return t.stopPropagation(),e.sayHello(t)}}},[e._v("Go to article")])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.results.length>0,expression:"item.results.length > 0"}],staticClass:"text-xs-center search-move-buttons"},[s("v-btn",{attrs:{disabled:0===t.tabs,icon:"",ripple:!1,flat:"",title:""},on:{click:[function(s){e.onChangeTab(t,t.tabs--)},function(t){return t.stopPropagation(),e.sayHello(t)}]}},[s("v-icon",{attrs:{color:"#9E9E9E"}},[e._v("keyboard_arrow_left")])],1),e._v(" "),s("v-btn",{attrs:{disabled:!t.results[t.tabs+1],ripple:!1,flat:"",icon:"",title:""},on:{click:[function(s){e.onChangeTab(t,t.tabs++)},function(t){return t.stopPropagation(),e.sayHello(t)}]}},[s("v-icon",{attrs:{color:"#9E9E9E"}},[e._v("keyboard_arrow_right")])],1)],1),e._v(" "),s("v-tabs",{staticClass:"result-tab",attrs:{grow:"","show-arrows":"",color:"transparent"},model:{value:t.tabs,callback:function(s){e.$set(t,"tabs",s)},expression:"item.tabs"}},[s("v-tabs-slider",{attrs:{color:"white"}}),e._v(" "),e._l(t.results,function(i,n){return s("v-tab",{key:n,attrs:{ripple:""},on:{click:function(s){e.onChangeTab(t,n)}}},[e._v("ITEM "+e._s(n+1))])}),e._v(" "),e._l(t.results,function(n,a){return s("v-tab-item",{key:a},[s("v-card",{staticClass:"result-content",attrs:{flat:"",target:"_blank",title:"Go to this result",href:t.results[a].url}},[s("v-card-text",e._l(n.items,function(t,n){return s("div",{key:n,staticClass:"v-list__tile__sub-title result-headings text-xs-center",class:[e.expansion!==i?"opacity-resume":""],domProps:{innerHTML:e._s(t.value)}},[s("div",{staticClass:"result-subtitle"},[e._v("\n                 "+e._s(t.value)+"\n                           ")])])}),0)],1)],1)})],2)],1)],1)}),1)],1)],1)],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.elements.length>0,expression:"elements.length > 0"}],staticClass:"text-xs-center show-all-results-container",on:{click:function(t){e.$emit("on-click-results")}}},[e.isPaginated?e._e():s("a",{staticClass:"show-all-results",attrs:{href:e.allResultsUrl,target:"_blank",title:"Show all results"}},[e._v("\n             Show all results")]),e._v(" "),e.isPaginated&&e.elements.length>10?s("div",[s("v-btn",{directives:[{name:"show",rawName:"v-show",value:0!==e.page,expression:"page !== 0"}],attrs:{flat:"",color:"white"},on:{click:e.prevPage}},[e._v("\n                 Previous\n               ")]),e._v(" "),s("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.elements.length===e.size,expression:"elements.length === size"}],attrs:{flat:"",color:"white",disabled:e.disableNextButton},on:{click:function(t){e.onNextPage((e.page+1)*e.size)}}},[e._v("\n                 Next\n               ")])],1):e._e()]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.noResults,expression:"noResults"}],staticClass:"text-xs-center"},[e._v("\n             No results found\n    ")])])},n=[],a={render:i,staticRenderFns:n};t.a=a},function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isPaginated?s("vuetify-results-list",{ref:"vuetify_results_list",attrs:{needle:e.needle,"no-results":e.noResults,visible:!0,"list-data":e.matches,"is-paginated":e.isPaginated,"page-number":e.pageNumber,loader:e.loaderResults,size:e.size},on:{"on-expand-result":e.onExpandResult,"on-next-page":e.onNextPage,"on-click-last-tab":e.onClickLastTab,"on-click-results":e.onClickResults}}):s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hide,expression:"hide"}],staticClass:"text-xs-center"},[s("v-text-field",{ref:"search_engine",staticClass:"search-engine",attrs:{id:"vas-search","hide-details":"",label:"Solo",autocomplete:"off",placeholder:"Search",solo:""},on:{focus:function(t){e.showIfHasResults(!0)}},model:{value:e.needle,callback:function(t){e.needle=t},expression:"needle"}},[s("template",{slot:"append"},[s("v-icon",{directives:[{name:"show",rawName:"v-show",value:e.menu.length>0&&!e.loader,expression:"menu.length > 0 && !loader"}],attrs:{slot:"activator",id:"config-icon"},on:{click:function(t){return t.stopPropagation(),e.onOptions(t)}},slot:"activator"},[e._v("\n                  "+e._s(e.showOptions?"close":"settings")+"\n                ")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.loader,expression:"loader"}],staticClass:"wrapper",attrs:{slot:"activator"},slot:"activator"},[s("div",{staticClass:"ball-1 ball"}),e._v(" "),s("div",{staticClass:"ball-2 ball"}),e._v(" "),s("div",{staticClass:"ball-3 ball"})])],1)],2),e._v(" "),s("v-slide-y-transition",[e.showOptions?s("v-card",{staticClass:"card-options"},[s("v-list",{directives:[{name:"show",rawName:"v-show",value:e.menu.length>0,expression:"menu.length > 0"}],attrs:{id:"menu-options",dense:""}},e._l(e.menu,function(t){return s("v-list-group",{directives:[{name:"show",rawName:"v-show",value:t.options.length>0,expression:"item.options.length > 0"}],key:t.title,class:["menu-"+t.type,e.hideCategories?"menu-"+t.type+"-hidden":""],attrs:{"prepend-icon":t.icon,color:"teal","no-action":""},model:{value:t.active,callback:function(s){e.$set(t,"active",s)},expression:"item.active"}},[s("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[s("v-list-tile-content",[s("v-list-tile-title",[e._v(e._s(t.title))])],1)],1),e._v(" "),e._l(t.options,function(i,n){return s("v-list-tile",{key:n,class:["option-"+i.ref,e.hidePosts?"option-"+i.ref+"-hidden":""],on:{click:function(s){e.toggleOptions(i.ref,t)}}},[s("v-list-tile-content",[s("v-list-tile-title",[e._v(e._s(i.title))])],1),e._v(" "),s("v-list-tile-action",[e.getCurrentSelectedItems(t).indexOf(i.ref)<0?s("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("\n                          check_box_outline_blank\n                        ")]):s("v-icon",{attrs:{color:"teal"}},[e._v("\n                          check_box\n                        ")])],1)],1)})],2)}),1)],1):e._e()],1),e._v(" "),s("v-slide-y-transition",[s("vuetify-results-list",{directives:[{name:"show",rawName:"v-show",value:e.showResults&&!e.showOptions,expression:"showResults && !showOptions"}],ref:"vuetify_results_list",attrs:{id:"content-results-list",needle:e.needle,"no-results":e.noResults,visible:e.showResults,"list-data":e.matches,"is-paginated":e.isPaginated,"page-number":e.pageNumber,loader:e.loaderResults,"all-results-url":e.setResultsUrl(),size:e.size},on:{"on-expand-result":e.onExpandResult,"on-next-page":e.onNextPage,"on-click-last-tab":e.onClickLastTab,"on-click-results":e.onClickResults}})],1)],1)},n=[],a={render:i,staticRenderFns:n};t.a=a}])});